<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

</head>
<body>
    <a href="/htmls/index.html"  id="selecao">home</a>
    <div>
        <div class="m-3">
            <label for="nome" class="form-label">Informe nome</label>
            <input type="text" id="nome" placeholder="Informe nome" class="form-control">
        </div>
        <div class="m-3">
            <label for="email" class="form-label">Informe email</label>
            <input type="text" id="email" placeholder="Informe email" class="form-control">
        </div>
        <div class="m-3">
            <label for="fone" class="form-label">Informe fone</label>
            <input type="text" id="fone" placeholder="Informe fone" class="form-control">
        </div>
        <div class="m-3">
            <button id="gravar" class="btn btn-primary">Gravar</button>
            <button id="editar" onclick="salvarEditar()" class="btn btn-primary">Editar</button>
            <button onclick="carregar()" class="btn btn-primary">Carregar</button> 
        </div>
        <table class="table">
            <thead>
                <th2>
                    <td>Nome</td>
                    <td>Email</td>
                    <td>Fone</td>
                    <td>Ações</td>
                    
                </th2>
            </thead>
            <tbody>
                <!--Listar os dados com javascript-->
            </tbody>
        </table>
    </div>
    <script>
        var contatoEditar = {}

        var contatos = [
        {nome:'maria',email:'maria@gmail.com',fone:'(47)9907-0987'},
        {nome:'jose',email:'jose@gmail.com',fone:'(47)9907-5687'},
        {nome:'antonio',email:'antonio@gmail.com',fone:'(47)9907-8987'}
       ]
        function carregar(){
            let size = contatos.length
            let linhas = ''
            for(let i = 0; i < size; i++){
               linhas += `<tr>
                    <td>${contatos[i].nome}</td>
                    <td>${contatos[i].email}</td>
                    <td>${contatos[i].fone}</td>
                    <td>
                        <button onclick=editar('${i}')>Editar</button>
                        <button onclick=excluir('${i}')>Excluir</button>
                    </td>
                </tr>`
            }
            document.getElementsByTagName('tbody')[0].innerHTML = linhas
        }
         function salvar(){

         }

         function editar(item){
            contatoEditar = contatos[item]
            document.getElementById('nome').value = contatoEditar.nome
            document.getElementById('email').value = contatoEditar.email
            document.getElementById('fone').value = contatoEditar.fone

            document.getElementById('gravar').setAttribute('disabled','true')
            document.getElementById('editar').removeAttribute('disabled')

         }

         function excluir(item){
            contatos.splice(item,1)
            carregar()
         }

         function salvarEditar(){
            //atualizar o objeto com os novos dados
            let inputNome = document.getElementById('nome')
            let inputEmail = document.getElementById('email')
            let inputFone = document.getElementById('fone')

            contatoEditar.nome = inputNome.value
            contatoEditar.email = inputEmail.value
            contatoEditar.fone = inputFone.value

            document.getElementById('nome').value = ""
            document.getElementById('email').value = ""
            document.getElementById('fone').value = ""
            
            carregar()  

            //bloquear botão editar
            document.getElementById('editar').setAttribute('disabled','true')
            //desbloquear botão gravar
            document.getElementById('gravar').removeAttribute('disabled')
         }
    </script>
</body>
</html>